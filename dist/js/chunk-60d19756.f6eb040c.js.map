{"version":3,"sources":["webpack:///./src/views/user/Mynote.vue?aaf0","webpack:///src/views/user/Mynote.vue","webpack:///./src/views/user/Mynote.vue?304e","webpack:///./src/views/user/Mynote.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_l","notearr","index","key","place","time","title","src","$event","goshareinfo","scopedSlots","_u","fn","delenote","_v","proxy","gohome","gologin","staticRenderFns","inject","data","sharelist","noteArr","havedata","isLogin","localStorage","getItem","phonename","methods","$router","go","push","getshareinfo","axios","name","params","method","url","sharetoken","created","mounted","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAaR,EAAIS,QAAST,EAAY,SAAEI,EAAG,MAAMJ,EAAIU,GAAIV,EAAW,SAAE,SAASW,EAAQC,GAAO,OAAOR,EAAG,MAAM,CAACS,IAAID,GAAO,CAACR,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAMI,EAAQG,MAAM,KAAOH,EAAQI,KAAK,MAAQJ,EAAQK,MAAM,MAAQL,EAAQM,KAAKT,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOlB,EAAImB,YAAYR,KAAWS,YAAYpB,EAAIqB,GAAG,CAAC,CAACR,IAAI,SAASS,GAAG,WAAW,MAAO,CAAClB,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOlB,EAAIuB,SAASZ,MAAY,CAACX,EAAIwB,GAAG,YAAYC,OAAM,IAAO,MAAK,MAAS,MAAK,GAAGrB,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,iBAAiBH,EAAG,aAAa,CAACE,YAAY,gBAAgBC,MAAM,CAAC,MAAQ,GAAG,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAI0B,SAAS,CAAC1B,EAAIwB,GAAG,UAAU,GAAGpB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,iBAAiBH,EAAG,aAAa,CAACE,YAAY,gBAAgBC,MAAM,CAAC,MAAQ,GAAG,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAI2B,UAAU,CAAC3B,EAAIwB,GAAG,UAAU,MAAM,IACpoCI,EAAkB,GCsCtB,G,UAAA,CACEC,OAAQ,CAAC,UACTC,KAFF,WAGI,MAAO,CACLC,UAAW,GACXC,QAAS,GACTC,UAAU,EACVC,QAASC,aAAaC,QAAQ,WAC9BC,UAAWF,aAAaC,QAAQ,eAGpCE,QAAS,CACP7B,KADJ,WAEMR,KAAKsC,QAAQC,IAAI,IAEnBb,QAJJ,WAKM1B,KAAKsC,QAAQE,KAAK,CAAxB,gBAEIf,OAPJ,WAQMzB,KAAKsC,QAAQE,KAAK,CAAxB,eAEIC,aAVJ,WAUA,WACMzC,KAAK0C,MACX,uBACQ,OAAR,CAAU,UAAV,kBAEA,kBACQ,QAAR,OAEQ,IAAR,kCACU,IAAV,iBACA,wDACY,EAAZ,cACc,IAAd,SACc,SAAd,WACc,QAAd,UACc,MAAd,QACc,MAAd,QACc,WAAd,aACc,IAAd,MACc,KAAd,OACc,KAAd,OACc,UAAd,cAIQ,QAAR,2BACA,sBACU,EAAV,gBAGA,mBACQ,QAAR,WAGIxB,YA5CJ,SA4CA,GACMlB,KAAKsC,QAAQE,KAAK,CAChBG,KAAM,YACNC,OAAQ,CAAhB,yBAIItB,SAnDJ,SAmDA,cACMtB,KAAK0C,MAAM,CACTG,OAAQ,MACRC,IAAK,YACLF,OAAQ,CACNG,WAAYrC,EAAQqC,cAE9B,iBAEA,gBAKEC,QA5EF,WA6EIhD,KAAKyC,gBAEPQ,QA/EF,eCvC+V,I,YCO3VC,EAAY,eACd,EACApD,EACA6B,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E","file":"js/chunk-60d19756.f6eb040c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myinfo\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的游记\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.back}}),(_vm.havedata)?_c('div',_vm._l((_vm.noteArr),function(notearr,index){return _c('div',{key:index},[_c('van-card',{staticClass:\"note\",attrs:{\"tag\":notearr.place,\"desc\":notearr.time,\"title\":notearr.title,\"thumb\":notearr.src},on:{\"click\":function($event){return _vm.goshareinfo(notearr)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delenote(notearr)}}},[_vm._v(\"删除游记\")])]},proxy:true}],null,true)})],1)}),0):_c('div',[(_vm.isLogin)?_c('div',[_c('van-empty',{attrs:{\"description\":\"什么都没有，先去逛逛吧\"}}),_c('van-button',{staticClass:\"bottom-button\",attrs:{\"round\":\"\",\"type\":\"danger\"},on:{\"click\":_vm.gohome}},[_vm._v(\"去首页\")])],1):_c('div',{staticClass:\"nologin\"},[_c('van-empty',{attrs:{\"description\":\"还没登录哦，先去登录吧\"}}),_c('van-button',{staticClass:\"bottom-button\",attrs:{\"round\":\"\",\"type\":\"danger\"},on:{\"click\":_vm.gologin}},[_vm._v(\"去登陆\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myinfo\">\r\n    <van-nav-bar title=\"我的游记\" left-text=\"返回\" left-arrow @click-left=\"back\" />\r\n    <div v-if=\"havedata\">\r\n      <div v-for=\"(notearr, index) in noteArr\" :key=\"index\">\r\n        <van-card\r\n          class=\"note\"\r\n          :tag=\"notearr.place\"\r\n          :desc=\"notearr.time\"\r\n          :title=\"notearr.title\"\r\n          :thumb=\"notearr.src\"\r\n          @click=\"goshareinfo(notearr)\"\r\n        >\r\n          <template #footer>\r\n            <van-button size=\"mini\" @click=\"delenote(notearr)\">删除游记</van-button>\r\n          </template></van-card\r\n        >\r\n      </div>\r\n      \r\n    </div>\r\n    <!-- --------->\r\n    <div v-else>\r\n      <div v-if=\"isLogin\">\r\n        <van-empty description=\"什么都没有，先去逛逛吧\"></van-empty>\r\n        <van-button round type=\"danger\" class=\"bottom-button\" @click=\"gohome\"\r\n          >去首页</van-button\r\n        >\r\n      </div>\r\n      <div v-else class=\"nologin\">\r\n        <van-empty description=\"还没登录哦，先去登录吧\"></van-empty>\r\n        <van-button round type=\"danger\" class=\"bottom-button\" @click=\"gologin\"\r\n          >去登陆</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"../../assets/less/mynote.less\";\r\nexport default {\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      sharelist: [],\r\n      noteArr: [],\r\n      havedata: true,\r\n      isLogin: localStorage.getItem(\"isLogin\"),\r\n      phonename: localStorage.getItem(\"phonename\"),\r\n    };\r\n  },\r\n  methods: {\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    gologin() {\r\n      this.$router.push({ name: \"Login\" });\r\n    },\r\n    gohome() {\r\n      this.$router.push({ name: \"Home\" });\r\n    },\r\n    getshareinfo() {\r\n      this.axios\r\n        .get(\"/getmyshareinfo\", {\r\n          params: { phonename: this.phonename },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n\r\n          for (let i = 0; i < res.data.list.length; i++) {\r\n            var getdata = res.data.list[i];\r\n            if (res.data.list[i].topimg == \"1\" && res.data.list[i].title != null) {\r\n              this.noteArr.push({\r\n                src: getdata.imgurl,\r\n                username: getdata.username,\r\n                userimg: getdata.userimg,\r\n                title: getdata.title,\r\n                place: getdata.place,\r\n                sharetoken: getdata.sharetoken,\r\n                tel: getdata.tel,\r\n                text: getdata.text,\r\n                time: getdata.time,\r\n                likecount: getdata.likecount,\r\n              });\r\n            }\r\n          }\r\n          console.log(\"=====图片数据\", this.noteArr);\r\n          if (this.noteArr.length == 0) {\r\n            this.havedata = false;\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    goshareinfo(notearr) {\r\n      this.$router.push({\r\n        name: \"ShareInfo\",\r\n        params: { page: \"mynote\", data: notearr },\r\n      });\r\n    },\r\n    //删除游记\r\n    delenote(notearr) {\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/delenote\",\r\n        params: {\r\n          sharetoken: notearr.sharetoken,\r\n        },\r\n      }).then(() => {\r\n        \r\n      this.reload();\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getshareinfo();\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mynote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mynote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mynote.vue?vue&type=template&id=607201f7&\"\nimport script from \"./Mynote.vue?vue&type=script&lang=js&\"\nexport * from \"./Mynote.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}