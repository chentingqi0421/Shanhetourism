(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f30bb66"],{1276:function(e,t,i){"use strict";var a=i("d784"),n=i("44e7"),o=i("825a"),r=i("1d80"),s=i("4840"),l=i("8aa5"),u=i("50c4"),c=i("14c3"),m=i("9263"),d=i("d039"),f=[].push,g=Math.min,v=4294967295,p=!d((function(){return!RegExp(v,"y")}));a("split",2,(function(e,t,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var a=String(r(this)),o=void 0===i?v:i>>>0;if(0===o)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,o);var s,l,u,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,p=new RegExp(e.source,d+"g");while(s=m.call(p,a)){if(l=p.lastIndex,l>g&&(c.push(a.slice(g,s.index)),s.length>1&&s.index<a.length&&f.apply(c,s.slice(1)),u=s[0].length,g=l,c.length>=o))break;p.lastIndex===s.index&&p.lastIndex++}return g===a.length?!u&&p.test("")||c.push(""):c.push(a.slice(g)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var n=r(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,n,i):a.call(String(n),t,i)},function(e,n){var r=i(a,e,this,n,a!==t);if(r.done)return r.value;var m=o(e),d=String(this),f=s(m,RegExp),h=m.unicode,b=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(p?"y":"g"),x=new f(p?m:"^(?:"+m.source+")",b),y=void 0===n?v:n>>>0;if(0===y)return[];if(0===d.length)return null===c(x,d)?[d]:[];var C=0,S=0,w=[];while(S<d.length){x.lastIndex=p?S:0;var k,$=c(x,p?d:d.slice(S));if(null===$||(k=g(u(x.lastIndex+(p?0:S)),d.length))===C)S=l(d,S,h);else{if(w.push(d.slice(C,S)),w.length===y)return w;for(var I=1;I<=$.length-1;I++)if(w.push($[I]),w.length===y)return w;S=C=k}}return w.push(d.slice(C)),w}]}),!p)},"147f":function(e,t,i){},"44e7":function(e,t,i){var a=i("861d"),n=i("c6b6"),o=i("b622"),r=o("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},"98a1":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"myinfo"},[i("div",{staticClass:"myinffo_header"},[i("van-nav-bar",{attrs:{title:"个人资料","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":e.back}})],1),e.isLogin?i("div",{staticClass:"myinfo-islogin"},[i("div",{staticClass:"myinfo-bag"},[i("div",{staticClass:"userimg"},[e.haveimg?i("div",[i("van-image",{attrs:{round:"",width:"4rem",height:"4rem",src:e.userimg}}),i("div",{staticClass:"upload"},[i("van-uploader",{attrs:{"after-read":e.afterRead}},[i("van-button",{attrs:{icon:"plus",type:"primary",round:""}},[e._v("更换头像")])],1)],1)],1):i("div",[i("van-image",{attrs:{round:"",width:"4rem",height:"4rem",src:"http://bpic.588ku.com/element_origin_min_pic/19/04/09/d5338875ce7f5f922beb421b2ee39f03.jpg"}}),i("div",{staticClass:"upload"},[i("van-uploader",{attrs:{"after-read":e.afterRead}},[i("van-button",{attrs:{icon:"plus",type:"primary",round:""}},[e._v("上传头像")])],1)],1)],1)]),i("div",{staticClass:"myinfo-cell"},[i("van-cell",{staticClass:"myinfo-van-cell",attrs:{title:"昵称"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.username,expression:"userinfo.username"}],staticClass:"text-area",attrs:{placeholder:e.username},domProps:{value:e.userinfo.username},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"username",t.target.value)}}})]),i("van-cell",{staticClass:"myinfo-van-cell",attrs:{title:"账号"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"text-area",attrs:{readonly:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),i("van-cell",{staticClass:"myinfo-van-cell",attrs:{title:"邮箱"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.email,expression:"userinfo.email"}],staticClass:"text-area",attrs:{placeholder:e.email},domProps:{value:e.userinfo.email},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"email",t.target.value)}}})]),i("van-cell",{staticClass:"myinfo-van-cell",attrs:{title:"个性签名"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.motto,expression:"userinfo.motto"}],staticClass:"text-area",attrs:{placeholder:e.motto},domProps:{value:e.userinfo.motto},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"motto",t.target.value)}}})]),i("van-button",{staticClass:"savebutton",attrs:{type:"primary",round:""},on:{click:function(t){return e.modifyUserInfo()}}},[e._v("保存资料")])],1)])]):i("div",{staticClass:"myinfo-nologin"},[i("div",{staticClass:"myinfo-bag"},[i("div",{staticClass:"userimg"},[i("van-image",{attrs:{round:"",width:"4rem",height:"4rem",src:"http://bpic.588ku.com/element_origin_min_pic/19/04/09/d5338875ce7f5f922beb421b2ee39f03.jpg"}}),i("div",{staticClass:"upload"},[i("van-button",{attrs:{icon:"plus",type:"primary",round:""},on:{click:function(t){return e.gologin()}}},[e._v("去登录")])],1)],1)])])])},n=[],o=(i("c975"),i("a15b"),i("ac1f"),i("1276"),i("147f"),{inject:["reload"],data:function(){return{haveimg:!1,getflag:!1,maxSize:1048576,isLogin:localStorage.getItem("isLogin"),userimg:localStorage.getItem("userimg"),phone:localStorage.getItem("phonename"),email:localStorage.getItem("email"),motto:localStorage.getItem("motto"),username:localStorage.getItem("currenUser"),userinfo:{phone:localStorage.getItem("phonename"),email:"",motto:"",username:""}}},created:function(){"null"==this.userimg?this.haveimg=!1:this.haveimg=!0,console.log(this.userimg)},methods:{back:function(){this.$router.go(-1)},gologin:function(){this.$router.push({name:"Login"})},modifyUserInfo:function(){var e=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:1110,loadingType:"spinner"});var t=this.userinfo;""==t.email&&(t.email=this.email),""==t.username&&(t.username=this.username),""==t.motto&&(t.motto=this.motto),this.axios({method:"POST",url:"/modifyUserInfo",data:t}).then((function(t){if(console.log(t),200==t.data.code){e.$toast.success(t.data.message);var i=t.data.nickname,a=t.data.motto,n=t.data.email;e.$store.commit("getusermotto",a),e.$store.commit("getuseremail",n),e.$store.commit("getusername",i),e.reload()}}))},afterRead:function(e){var t=this;if(console.log("file ==> ",e),null!=localStorage.key("Authorization")){var i=e.file.type.split("/")[1],a=["png","gif","jpg","jpeg"];if(-1===a.indexOf(i))return void this.$notify({message:"图片类型只支持"+a.join(","),color:"#fff",background:"#0C34BA"});if(this.maxSize<e.file.size)return void this.$notify({message:"上传文件大小不能超过"+this.maxSize/1024+"KB",color:"#fff",background:"#0C34BA"});var n=e.content,o=localStorage.phonename,r={phone:o,imgType:i,serverBase64Img:n};this.axios({method:"POST",url:"/updateAvatar",data:r}).then((function(e){if(console.log("result ==> ",e),"200"==e.data.code){t.$toast.success(e.data.message);var i="http://119.29.36.88:2020/img/"+e.data.img;t.userimg=i,t.$store.commit("getuserimg",i),t.reload()}else t.$toast.success(e.data.message)})).catch((function(e){t.$toast.clear(),console.log("err ==> ",e)}))}}}}),r=o,s=i("2877"),l=Object(s["a"])(r,a,n,!1,null,null,null);t["default"]=l.exports},a15b:function(e,t,i){"use strict";var a=i("23e7"),n=i("44ad"),o=i("fc6a"),r=i("a640"),s=[].join,l=n!=Object,u=r("join",",");a({target:"Array",proto:!0,forced:l||!u},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},a640:function(e,t,i){"use strict";var a=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&a((function(){i.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,i){var a=i("83ab"),n=i("d039"),o=i("5135"),r=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var i=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,m=o(t,1)?t[1]:void 0;return s[e]=!!i&&!n((function(){if(u&&!a)return!0;var e={length:-1};u?r(e,1,{enumerable:!0,get:l}):e[1]=1,i.call(e,c,m)}))}},c975:function(e,t,i){"use strict";var a=i("23e7"),n=i("4d64").indexOf,o=i("a640"),r=i("ae40"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(e){return l?s.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-5f30bb66.6fdfdd61.js.map