{"version":3,"sources":["webpack:///./src/assets/icon/adress.svg","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/mall/confirmgoods.vue?a92b","webpack:///src/views/mall/confirmgoods.vue","webpack:///./src/views/mall/confirmgoods.vue?1b2e","webpack:///./src/views/mall/confirmgoods.vue"],"names":["module","exports","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","back","active","_v","_l","items","key","onlyid","people","price","goodsplace","title","imgurl","scopedSlots","_u","fn","staticStyle","_s","date","proxy","showPopup","item","index","name","$event","deletegoods","tel","directives","rawName","value","expression","domProps","composing","noteInfo","style","height","model","callback","$$v","show","addpeople","editingContact","onSave","showadd","id","checkedInfo","goodsInfo","onSubmit","staticRenderFns","data","page","goodsinfos","checkinfo","phonename","localStorage","getItem","initgoodsInfo","havepeople","contactInfo","peopleInfo","icon","initprice","created","getRouterData","mounted","methods","checked","i","console","log","push","$toast","fail","newpeople","$router","gogoods","$route","params","savapeople","getpeopleinfo","axios","method","url","onDelete","success","checked2","$dialog","component"],"mappings":"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","file":"js/chunk-128fc491.461f9b9b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/adress.55c8a98e.svg\";","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirmgoods\"},[_c('header',[_c('van-nav-bar',{attrs:{\"title\":\"确认订单\",\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":true},on:{\"click-left\":_vm.back}})],1),_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"step\"},[_c('van-steps',{attrs:{\"active\":_vm.active}},[_c('van-step',[_vm._v(\"填写信息\")]),_c('van-step',[_vm._v(\"确认信息\")]),_c('van-step',[_vm._v(\"支付订单\")]),_c('van-step',[_vm._v(\"确认出行\")])],1)],1),_c('div',{staticClass:\"goodsbag\"},[_c('div',{staticClass:\"con_shopname\"},[_c('van-icon',{attrs:{\"name\":\"bag-o\",\"color\":\"red\"}}),_c('h3',[_vm._v(\"山河旅行社旗舰店>\")])],1),_vm._l((_vm.goodsInfo),function(items){return _c('div',{key:items.onlyid,staticClass:\"goods\"},[_c('van-card',{attrs:{\"num\":items.people,\"price\":items.price,\"desc\":items.goodsplace,\"title\":items.title,\"thumb\":items.imgurl},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return [_c('van-tag',{staticStyle:{\"margin\":\"0px 0px 0px 120px\"},attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(\"出游日期：\"+_vm._s(items.date))])]},proxy:true}],null,true)}),_c('div',{staticClass:\"addpeople\"},[_c('van-cell',{attrs:{\"title\":\"出游人员\",\"is-link\":\"\"},on:{\"click\":_vm.showPopup}}),_vm._l((_vm.checkinfo),function(item,index){return _c('van-swipe-cell',{key:item.name,scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{staticClass:\"delete-button\",attrs:{\"square\":\"\",\"text\":\"删除\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deletegoods(index)}}})]},proxy:true}],null,true)},[_c('van-contact-card',{attrs:{\"type\":\"edit\",\"name\":item.name,\"tel\":item.tel,\"editable\":false}})],1)}),_c('van-cell',{staticClass:\"myinfo-van-cell\",attrs:{\"title\":\"订单备注\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noteInfo),expression:\"noteInfo\"}],staticClass:\"text-area\",attrs:{\"placeholder\":\"选填，建议和卖家协商\"},domProps:{\"value\":(_vm.noteInfo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.noteInfo=$event.target.value}}})]),_c('van-popup',{style:({ height: '45%' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-button',{staticClass:\"addbutton\",attrs:{\"round\":\"\",\"size\":\"large\",\"type\":\"info\"},on:{\"click\":_vm.addpeople}},[_vm._v(\"添加常用人员\")]),_c('van-contact-edit',{attrs:{\"contact-info\":_vm.editingContact},on:{\"save\":_vm.onSave}})],1),_c('van-popup',{style:({ height: '50%' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showadd),callback:function ($$v) {_vm.showadd=$$v},expression:\"showadd\"}},[(_vm.havepeople)?_c('van-cell',[_c('van-empty',{attrs:{\"description\":\"没有常用人员\"}})],1):_vm._l((_vm.peopleInfo),function(items){return _c('van-cell',{key:items.id,on:{\"click\":function($event){return _vm.checkedInfo(items)}}},[_c('van-contact-card',{attrs:{\"type\":\"edit\",\"name\":items.name,\"tel\":items.tel,\"editable\":false}})],1)})],2)],2)],1)})],2)]),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"buy\"},[_c('van-submit-bar',{attrs:{\"price\":_vm.goodsInfo.price * 100,\"button-text\":\"提交订单\"},on:{\"submit\":_vm.onSubmit}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"confirmgoods\">\r\n    <header>\r\n      <van-nav-bar\r\n        title=\"确认订单\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        :fixed=\"true\"\r\n        @click-left=\"back\"\r\n      />\r\n    </header>\r\n\r\n    <div class=\"center\">\r\n      <div class=\"step\">\r\n        <van-steps :active=\"active\">\r\n          <van-step>填写信息</van-step>\r\n          <van-step>确认信息</van-step>\r\n          <van-step>支付订单</van-step>\r\n          <van-step>确认出行</van-step>\r\n        </van-steps>\r\n      </div>\r\n\r\n      <div class=\"goodsbag\">\r\n        <div class=\"con_shopname\">\r\n          <van-icon name=\"bag-o\" color=\"red\" />\r\n          <h3>山河旅行社旗舰店></h3>\r\n        </div>\r\n        <div class=\"goods\" v-for=\"items in goodsInfo\" :key=\"items.onlyid\">\r\n          <van-card\r\n            :num=\"items.people\"\r\n            :price=\"items.price\"\r\n            :desc=\"items.goodsplace\"\r\n            :title=\"items.title\"\r\n            :thumb=\"items.imgurl\"\r\n          >\r\n            <template #tags>\r\n              <van-tag plain type=\"danger\" style=\"margin: 0px 0px 0px 120px\"\r\n                >出游日期：{{ items.date }}</van-tag\r\n              >\r\n            </template>\r\n          </van-card>\r\n\r\n          <div class=\"addpeople\">\r\n            <van-cell title=\"出游人员\" is-link @click=\"showPopup\" />\r\n\r\n            <van-swipe-cell v-for=\"(item, index) in checkinfo\" :key=\"item.name\">\r\n              <van-contact-card\r\n                type=\"edit\"\r\n                :name=\"item.name\"\r\n                :tel=\"item.tel\"\r\n                :editable=\"false\"\r\n              />\r\n\r\n              <template #right>\r\n                <van-button\r\n                  square\r\n                  text=\"删除\"\r\n                  type=\"danger\"\r\n                  class=\"delete-button\"\r\n                  @click=\"deletegoods(index)\"\r\n                />\r\n              </template>\r\n            </van-swipe-cell>\r\n\r\n            <van-cell class=\"myinfo-van-cell\" title=\"订单备注\">\r\n              <input\r\n                class=\"text-area\"\r\n                placeholder=\"选填，建议和卖家协商\"\r\n                v-model=\"noteInfo\"\r\n              />\r\n            </van-cell>\r\n            <van-popup\r\n              v-model=\"show\"\r\n              round\r\n              position=\"bottom\"\r\n              :style=\"{ height: '45%' }\"\r\n            >\r\n              <van-button\r\n                class=\"addbutton\"\r\n                round\r\n                size=\"large\"\r\n                type=\"info\"\r\n                @click=\"addpeople\"\r\n                >添加常用人员</van-button\r\n              >\r\n              <van-contact-edit :contact-info=\"editingContact\" @save=\"onSave\" />\r\n            </van-popup>\r\n            <van-popup\r\n              v-model=\"showadd\"\r\n              round\r\n              position=\"bottom\"\r\n              :style=\"{ height: '50%' }\"\r\n            >\r\n            <van-cell\r\n               v-if=\"havepeople\"\r\n              >\r\n               <van-empty description=\"没有常用人员\"></van-empty>\r\n               \r\n              </van-cell>\r\n              <van-cell\r\n              v-else\r\n                v-for=\"items in peopleInfo\"\r\n                :key=\"items.id\"\r\n                @click=\"checkedInfo(items)\"\r\n              >\r\n              \r\n                <van-contact-card\r\n                  type=\"edit\"\r\n                  :name=\"items.name\"\r\n                  :tel=\"items.tel\"\r\n                  :editable=\"false\"\r\n                />\r\n              </van-cell>\r\n            </van-popup>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <div class=\"buy\">\r\n        <van-submit-bar\r\n          :price=\"goodsInfo.price * 100\"\r\n          button-text=\"提交订单\"\r\n          @submit=\"onSubmit\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"../../assets/less/confirmgoods.less\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      page: \"\",\r\n      showadd: false,\r\n      onlyid: \"\",\r\n      goodsinfos: {},\r\n      editingContact: [],\r\n      checkinfo: [],\r\n      noteInfo: \"\",\r\n      phonename: localStorage.getItem(\"phonename\"),\r\n      goodsInfo: [],\r\n      initgoodsInfo: [],\r\n      havepeople:false,\r\n      contactInfo: [],\r\n      name: localStorage.getItem(\"name\"),\r\n      peopleInfo: [],\r\n      active: 0,\r\n      icon: require(\"../../assets/icon/adress.svg\"),\r\n      // 初始化商品数据\r\n      initprice: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.getRouterData();\r\n    \r\n      this.getpeopleinfo();\r\n    \r\n  },\r\n  mounted(){\r\n\r\n  },\r\n  methods: {\r\n    showPopup() {\r\n      //选择人员后价格人数随着变化\r\n      this.show = true;\r\n\r\n \r\n    },\r\n    addpeople() {\r\n      this.show = false;\r\n      this.showadd = true;\r\n    },\r\n    checked(items) {\r\n\r\n      for (var i = 0; i < this.checkinfo.length; i++) {\r\n        console.log(items.name, this.checkinfo[i].name);\r\n        if (items.name === this.checkinfo[i].name) {\r\n          return true\r\n        }\r\n      }\r\n    },\r\n    checkedInfo(items) {\r\n      //判断重复添加相同人员\r\n\r\n      if (this.checkinfo.length == 0) {\r\n        this.checkinfo.push(items);\r\n      } else {\r\n        \r\n        if(this.checked(items)){\r\n          this.$toast.fail(\"请勿重复添加\")\r\n        }else{\r\n          this.checkinfo.push(items)\r\n        }\r\n      }\r\n\r\n      this.showadd = false;\r\n      var newpeople = this.checkinfo.length;\r\n      this.goodsInfo.price = this.checkinfo.length * this.goodsInfo[0].price;\r\n      this.goodsInfo[0].people = newpeople;\r\n    },\r\n    back() {\r\n      this.$router.push({ name: \"Shopbag\" });\r\n    },\r\n    gogoods() {\r\n      this.$router.push({ name: \"Goodsbag\" });\r\n    },\r\n    getRouterData() {\r\n      this.page = this.$route.params.page;\r\n      //判断路由跳转方向，通过页面传值来判断数据涞源做到动态赋值\r\n      if (this.page === \"shopbag\") {\r\n        this.goodsInfo = this.$route.params.goodsInfo;\r\n        this.initgoodsInfo = this.$route.params.goodsInfo;\r\n        this.initprice = this.goodsInfo[0].price;\r\n        console.log(this.page, this.initgoodsInfo);\r\n      }\r\n      if (this.page === \"orderform\") {\r\n        this.initgoodsInfo = this.$route.params.initgoodsInfo;\r\n        this.goodsInfo = this.initgoodsInfo;\r\n        this.checkinfo.push(...this.$route.params.peopleInfo);\r\n        console.log(this.page, this.initgoodsInfo);\r\n      }\r\n      if (this.page === \"goodsbag\") {\r\n        this.goodsInfo = this.$route.params.goodsInfo;\r\n        this.initgoodsInfo = this.$route.params.goodsInfo;\r\n        this.initprice = this.goodsInfo[0].price;\r\n        console.log(this.page, this.goodsInfo);\r\n      }\r\n    },\r\n    savapeople(contactInfo){\r\n       this.axios({\r\n              method: \"GET\",\r\n              url: \"/addpeopleinfo\",\r\n              params: {\r\n                phonename: this.phonename,\r\n                name: contactInfo.name,\r\n                tel: contactInfo.tel,\r\n              },\r\n            }).then((res) => {\r\n              this.$toast.success(res.data.message);\r\n              this.checkinfo.push(res.data.data);\r\n              this.show = false;\r\n              //每次更新商品信息都重新赋值，动态\r\n              this.goodsInfo[0].people = this.checkinfo.length;\r\n               this.goodsInfo.price = this.checkinfo.length * this.goodsInfo[0].price;\r\n              this.reload();\r\n            });\r\n    },\r\n    getpeopleinfo() {\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/getpeopleinfo\",\r\n        params: {\r\n          phonename: this.phonename,\r\n        },\r\n      }).then((res) => {\r\n        this.peopleInfo.push(...res.data.message);\r\n        console.log(\"people\", this.peopleInfo);\r\n        if(this.peopleInfo==\"\"){\r\n      this.havepeople=true\r\n      \r\n    }\r\n      });\r\n    },\r\n    onDelete(contactInfo) {\r\n      this.$toast.success(contactInfo.name);\r\n    },\r\n    \r\n     checked2(contactInfo) {\r\n\r\n      for (var k = 0; k < this.checkinfo.length; k++) {\r\n        console.log(contactInfo.name, this.checkinfo[k].name);\r\n        if (contactInfo.name === this.checkinfo[k].name) {\r\n          return true\r\n        }\r\n      }\r\n    },\r\n    onSave(contactInfo) {\r\n      if(this.peopleInfo.length ===0){\r\n          this.savapeople(contactInfo)\r\n      }\r\n      else {\r\n        for (var k = 0; k < this.peopleInfo.length; k++) {\r\n          if (!this.checked2(contactInfo)) {\r\n           this.savapeople(contactInfo)\r\n          //  console.log(this.)\r\n           break\r\n          } else {\r\n            this.$toast.fail(\"请勿重复添加人员\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.name == \"null\") {\r\n        this.$dialog\r\n          .confirm({\r\n            title: \"未实名验证！\",\r\n            message: \"是否确认去实名！\",\r\n            confirmButtonColor: \"#0C34BA\",\r\n          })\r\n          .then(() => {\r\n            let second = 2;\r\n            var timer = setInterval(() => {\r\n              second--;\r\n              if (second) {\r\n                this.$toast.success(\"请实名后返回购买\");\r\n              } else {\r\n                clearInterval(timer);\r\n\r\n                this.$toast.clear();\r\n              }\r\n\r\n              this.$router.push({\r\n                name: \"Security\",\r\n                params: { show4: true, page: \"my\" },\r\n              });\r\n            }, 1000);\r\n          });\r\n      } else {\r\n        if (this.checkinfo == \"\") {\r\n          this.$toast.fail(\"请选择出游人员\");\r\n        } else {\r\n          this.$router.push({\r\n            name: \"OrderForm\",\r\n            params: {\r\n              goodsInfo: this.goodsInfo,\r\n              peopleInfo: this.checkinfo,\r\n              noteInfo: this.noteInfo,\r\n              initgoodsInfo: this.initgoodsInfo,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    },\r\n    deletegoods(index) {\r\n      //动态显示商品数量和价格，用户删除则变化\r\n      this.checkinfo.splice(index, 1);\r\n      this.goodsInfo[0].people = this.checkinfo.length;\r\n      this.goodsInfo.price = this.checkinfo.length * this.goodsInfo[0].price;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmgoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmgoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./confirmgoods.vue?vue&type=template&id=38c8f1c6&\"\nimport script from \"./confirmgoods.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmgoods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}